---
import "../styles/global.css";
import Header from "../components/layout/Header.astro";
import Footer from "../components/layout/Footer.astro";

interface Props {
  title?: string;
  description?: string;
  image?: string;
}

const {
  title = "Small Planet Law - Wills, Trusts & Green Estate Planning in Colorado",
  description = "Small Planet Law LLC offers personalized estate planning in Colorado, including wills, trusts, powers of attorney, and green legacy options. Clear guidance, sustainable choices, and expert legal support that puts people and the planet first.",
  image = "/og-image.jpg",
} = Astro.props;

const canonicalURL = Astro.site
  ? new URL(Astro.url.pathname, Astro.site)
  : Astro.url.pathname;
const fullImageURL = Astro.site ? new URL(image, Astro.site).toString() : image;
---

<!doctype html>
<html lang="en" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="icon"
      type="image/svg+xml"
      href={import.meta.env.BASE_URL + "favicon.svg"}
    />
    <meta name="generator" content={Astro.generator} />
    <base href={import.meta.env.BASE_URL} />

    <!-- Primary Meta Tags -->
    <title>{title}</title>
    <meta name="title" content={title} />
    <meta name="description" content={description} />
    <link rel="canonical" href={canonicalURL} />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content={canonicalURL} />
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta property="og:image" content={fullImageURL} />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content={canonicalURL} />
    <meta property="twitter:title" content={title} />
    <meta property="twitter:description" content={description} />
    <meta property="twitter:image" content={fullImageURL} />

    <!-- Local Business Schema -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "LegalService",
        "name": "Small Planet Law LLC",
        "description": "Wills, Trusts & Green Estate Planning in Colorado",
        "url": "https://smallplanetlaw.com",
        "logo": "https://smallplanetlaw.com/logo.png",
        "image": "https://smallplanetlaw.com/og-image.jpg",
        "address": {
          "@type": "PostalAddress",
          "addressRegion": "CO",
          "addressCountry": "US"
        },
        "priceRange": "$$",
        "telephone": "+13035354311",
        "email": "hello@smallplanetlaw.com",
        "areaServed": {
          "@type": "State",
          "name": "Colorado"
        }
      }
    </script>
  </head>
  <body class="bg-background text-text-primary font-sans">
    <Header />
    <main>
      <slot />
    </main>
    <Footer />
  </body>
</html>
