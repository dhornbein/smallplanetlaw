---
import Button from "../ui/Button.astro";

const navItems = [
  { name: "Home", href: "/" },
  { name: "About", href: "/about" },
  { name: "Services", href: "/services" },
  { name: "Blog", href: "/blog" },
  { name: "Contact", href: "/contact" },
];
---

<header
  class="bg-stone-800/80 border-b border-stone-700 backdrop-blur-md sticky top-0 z-50 h-20"
>
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between items-center py-4">
      <!-- Logo -->
      <a href="/" class="flex items-center space-x-3 group z-30">
        <div
          class="w-12 h-12 rounded-full bg-cosmic-blue-dark flex items-center justify-center"
        >
          <svg
            class="w-7 h-7 group-hover:text-blue-300 text-cosmic-blue"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
            ></path>
          </svg>
        </div>
        <div class="flex flex-col">
          <span
            class="text-xl font-serif font-semibold text-warm-neutral group-hover:text-white"
            >Small Planet Law</span
          >
          <span class="text-xs text-warm-neutral-dark"
            >Estate Planning â€¢ Denver, CO</span
          >
        </div>
      </a>

      <!-- Desktop Navigation -->
      <nav class="hidden md:flex items-center space-x-8">
        {
          navItems.map((item) => (
            <a
              href={item.href}
              class="text-warm-neutral hover:text-white transition-colors duration-200 font-medium"
            >
              {item.name}
            </a>
          ))
        }
        <Button href="/contact" size="sm">Start Your Plan</Button>
      </nav>

      <!-- Mobile Menu Button -->
      <button
        id="mobile-menu-button"
        class="md:hidden p-2 rounded-md text-warm-neutral-dark hover:text-white focus:outline-none focus:ring-2 focus:ring-white/70 z-40"
        aria-label="Toggle menu"
      >
        <svg
          class="w-6 h-6"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
      </button>
    </div>

    <!-- Mobile Navigation -->
    <nav
      id="mobile-menu"
      class="hidden md:hidden fixed top-0 left-0 w-full bg-stone-800 inset-shadow-lg"
    >
      <div
        class="flex flex-col justify-around h-full min-h-dvh pt-24 pb-4 px-6"
      >
        {
          navItems.map((item) => (
            <a
              href={item.href}
              class="py-2 text-warm-neutral hover:text-white transition-colors duration-200 font-medium font-serif text-2xl lowercase"
            >
              {item.name}
            </a>
          ))
        }
        <div class="pt-2">
          <Button href="/contact" size="lg" class="w-full">Get Started</Button>
        </div>
      </div>
    </nav>
  </div>
</header>

<script>
  // Mobile menu toggle
  const mobileMenuButton = document.getElementById("mobile-menu-button");
  const mobileMenu = document.getElementById("mobile-menu");

  mobileMenuButton?.addEventListener("click", () => {
    mobileMenu?.classList.toggle("hidden");
  });
</script>
