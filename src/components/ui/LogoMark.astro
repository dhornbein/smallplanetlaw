---
/**
 * LogoMark component renders the circular Small Planet Law logo SVG.
 * Adjustable via props; defaults pulled from Tailwind v4 @theme CSS variables.
 *
 * Props:
 * - fillColor?: string (circle fill) default: 'var(--color-neutral-warm)'
 * - strokeColor?: string (outer circle stroke) default: 'var(--color-deep-slate)'
 * - pathStrokeColor?: string (internal path stroke) default: same as strokeColor
 * - size?: 'xs' | 'sm' | 'md' | 'lg' | 'xl' (maps to Tailwind width/height classes)
 * - width?: number (explicit pixel width; overrides size)
 * - height?: number (explicit pixel height; overrides size)
 * - title?: string (accessible <title> text)
 * - desc?: string (accessible <desc> text)
 * - class?: string (extra utility classes)
 * - ariaHidden?: boolean (set true to hide from assistive tech when decorative)
 */
interface Props {
  fillColor?: string;
  strokeColor?: string;
  pathStrokeColor?: string;
  size?: "xs" | "sm" | "md" | "lg" | "xl";
  width?: number;
  height?: number;
  title?: string;
  desc?: string;
  class?: string;
  ariaHidden?: boolean;
}

const {
  fillColor = "var(--color-neutral-warm)",
  strokeColor = "var(--color-primary)",
  pathStrokeColor = strokeColor,
  size = "md",
  width,
  height,
  title = "Small Planet Law Logo",
  desc,
  class: className = "",
  ariaHidden = false,
} = Astro.props as Props;

const sizeMap: Record<string, string> = {
  xs: "w-6 h-6",
  sm: "w-10 h-10",
  md: "w-16 h-16",
  lg: "w-24 h-24",
  xl: "w-32 h-32",
};

const dimensionStyle =
  width || height
    ? `${width ? `width:${width}px;` : ""}${height ? `height:${height}px;` : ""}`
    : "";
const computedClass = `${sizeMap[size]} inline-block ${className}`.trim();
const labelled = !ariaHidden && (title || desc);
---

<figure class={computedClass} style={dimensionStyle}>
  <svg
    viewBox="0 0 600 600"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
    class="w-full h-full logo-svg"
    role={!ariaHidden ? "img" : undefined}
    aria-hidden={ariaHidden ? "true" : undefined}
  >
    {title && <title>{title}</title>}
    {desc && <desc>{desc}</desc>}
    <circle
      cx="300"
      cy="300"
      r="267.36"
      class="logo-circle"
    ></circle>
    <path
      d="M91.119,466.345c75.557,44.881 198.092,-5.451 201.072,-137.069c3.496,-154.422 -163.876,-151.058 -163.876,-151.058c0,0 -19.829,188.348 163.876,151.058"
      class="logo-path"
    ></path>
    <path
      d="M476.64,496.141c-100.744,61.222 -184.722,-6.597 -180.565,-117.018c7.099,-188.547 81.49,-168.993 171.653,-206.526c-16.451,199.804 -109.512,123.828 -171.509,226.509"
      class="logo-path"
    ></path>
  </svg>
</figure>

<style define:vars={{ fillColor, strokeColor, pathStrokeColor }}>
  .logo-circle {
    fill: var(--fillColor);
    stroke: var(--strokeColor);
    stroke-width: 38px;
  }

  .logo-path {
    fill: none;
    stroke: var(--pathStrokeColor);
    stroke-width: 30px;
  }
</style>
