---
import Layout from "../../layouts/Layout.astro";
import PostList from "../../components/sections/PostList.astro";
import CTA from "../../components/sections/CTA.astro";
import CurvedEdge from "../../components/ui/CurvedEdge.astro";
import Newsletter from "../../components/sections/Newsletter.astro";
import { getCollection } from "astro:content";

export const prerender = true;

const posts = await getCollection("blog");
---

<Layout
  title="Blog | Small Planet Law"
  description="Estate planning insights, green legacy tips, and family protection guidance from Small Planet Law in Colorado."
>
  <!-- Page Header -->
  <header class="bg-primary-variant text-white show-header relative px-8 py-24 lg:py-28">
    <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8">
      <h1 class="text-white">Blog</h1>
      <p class="text-lg lg:text-xl text-olivine-100 max-w-prose">
        Insights on estate planning, family protection, and building a legacy
        that's good for your loved ones and the planet.
      </p>
    </div>
  </header>

  <!-- Post List -->
  <section class="py-12 lg:py-16 relative bg-light">
    <CurvedEdge fillColor="fill-light" />
    <PostList posts={posts} />
  </section>

  <CTA />
  <Newsletter />
</Layout>
